# Workspace Content Guide

Welcome to the Terra Workspce content guide. This guide will walk through the recommended approach for creating a component to be consumed and presented within a workspaces content area.

## Summary

The overall construction a workspace region is composed of a higher order `Workspace` component and child `WorkspaceItem`'s. The `WorkspaceItem` is comprised of labels, identifiers, and a render block. Within the render block a `WorkspaceContent` component should be yielded.

## Getting Started

This guide will walk through structure, exports, and contruction of a stand alone WorkspaceContent component. The example component is using the base component from terra-application to provide an API for interacting with the theme.

## Workspace - Higher Order

An application and it's associated page navigation will have the resposibility of constructing the workspace itself similar to the example below.

```jsx
import React from 'react';
import { Workspace, WorkspaceItem } from 'terra-application/lib/workspace';

const MyWorkspace = () => {
  return (
    <Workspace
      activeItemKey={activeKey}
      onRequestActivate={(key, metaData) => setActiveKey(key)}
    >
      <WorkspaceItem
        itemKey="item-1"
        label={intl.formatMessage({ id: MyContent1.labelTranslationId })}
        metaData={{ key: 'item-1' }}
        render={() => <MyContent1 />}
      />
      <WorkspaceItem
        itemKey="item-2"
        label={intl.formatMessage({ id: MyContent2.labelTranslationId })}
        metaData={{ key: 'item-2' }}
        render={() => <MyContent2 />}
      />
    </Workspace>
  );
};

export default MyWorkspace;
```

We will be focusing on the cotent within the renders, in this example as shown by `MyContent1` and `MyContent2`.

## Workspace - Content

While the WorkspaceContent component can be wrapped for composition/state management, there should be no structural/layout elements between the WorkspaceItem and the WorkspaceContent.

A WorkspaceContent element takes the toolbar and children props.

The toolbar will be prop will be injected into the layout by the WorkspaceContent itself. This pattern is similiar to the terra-content-container and header/footer nodes.

The child component will be placed within a scrollable region.

*Best Practice*
As applications will be pulling in multiple workspaces and multiple components to keep things isolated the best practice is export a translation id. In this example we are exporting a entry for `labelTranslationId`.

```jsx
import React from 'react';
import { WorkspaceContent } from 'terra-application/lib/workspace';

const MyContent1 = () => {
  return (
    <WorkspaceContent
      toolbar={<MyToolBar />}
    >
      <MyComponent />
    </WorkspaceContent>
  );
};

MyContent1.labelTranslationId = 'myModule.myContent1.label';

export default MyContent1;
```

## Workspace - Managing Active Display

WorkspaceContent components that are not the currently active display will remain mounted, but will be removed from the DOM. So any dependent logic or listeners that expect to be on the DOM need to be disabled or provided for when no longer on the dom. In order to facilitate this the WorkspaceContext is explosed, providing and `isActive` value to key off of.

Below is an example using hooks to retrieve the `isActive` value.

```jsx
import React from 'react';
import { WorkspaceContext } from 'terra-application/lib/workspace';

const MyComponent = () => {
  const { isActive } = React.useContext(WorkspaceContext);

  ...
};

export default MyComponent;
```

## Workspace - Notifications

The workspace region of the application provides an entry point for the display of notifications associated to the presented WorksapceItem. In order to yeild notifications for your content import and render the terra-application provided `notification-banner`.

```jsx
import React from 'react';
import NotificationBanner from 'terra-application/lib/notification-banner';

const MyComponent = () => {
  const [showAlertBanner, setShowAlertBanner] = useState(false);

  return (
    {showAlertBanner && (
      <NotificationBanner
        variant="hazard-high"
        id="my-component-notification-id"
        onRequestClose={() => setShowAlertBanner(false)}
      />
    )}
    ...
  );
};

export default MyComponent;
```

## Workspace - Loading

The workspace provides an overlay out of the box. In order to place a loading overlay above your content import and render the terra-application provided `application-loading-overlay`.

If content will be displayed underneath the overlay ensure that it's elements are set as disabled, for both visuals and assitive technology.

```jsx
import React from 'react';
import ApplicationLoadingOverlay from 'terra-application/lib/application-loading-overlay';

const MyComponent = () => {
  const [showLoadingOverlay, setShowLoadingOverlay] = React.useState(false);

  return (
    {showLoadingOverlay && <ApplicationLoadingOverlay backgroundStyle="light" />}
    ...
  );
};

export default MyComponent;
```

## FAQ

### If my component is not actively displayed will my state be preserved?

Yes! Content that is not actively displayed on the DOM remains mounted, so any state captured by your component is maintained.

### Can I provide my own scrolling via terra-scroll or terra-content-container?

No. The workspace provides the scrollable region and the location to render fixed header elements. This region is provided and controlled in order to handle the various keyboard/accessibility concerns associated with the presentation.
